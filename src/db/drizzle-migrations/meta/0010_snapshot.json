{
  "id": "ef8087af-c22e-41cd-8e8c-e7c2a8c2a3a7",
  "prevId": "40abc43d-289a-41d0-9323-521b00aaec36",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_account_user_id": {
          "name": "idx_account_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_session_user_id": {
          "name": "idx_session_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "session_token_unique": {
          "name": "session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification": {
      "name": "verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flavour": {
      "name": "flavour",
      "schema": "",
      "columns": {
        "flavour_id": {
          "name": "flavour_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "category_id": {
          "name": "category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "base_unit": {
          "name": "base_unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'g/kg'"
        },
        "flavor_profile": {
          "name": "flavor_profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "variation_group_id": {
          "name": "variation_group_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "variation_label": {
          "name": "variation_label",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_main_variation": {
          "name": "is_main_variation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "idx_flavour_category_id": {
          "name": "idx_flavour_category_id",
          "columns": [
            {
              "expression": "category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flavour_is_public": {
          "name": "idx_flavour_is_public",
          "columns": [
            {
              "expression": "is_public",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flavour_status": {
          "name": "idx_flavour_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flavour_user_id": {
          "name": "idx_flavour_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flavour_variation_group_id": {
          "name": "idx_flavour_variation_group_id",
          "columns": [
            {
              "expression": "variation_group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "flavour_category_id_fkey": {
          "name": "flavour_category_id_fkey",
          "tableFrom": "flavour",
          "tableTo": "category",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "category_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "flavour_user_id_fkey": {
          "name": "flavour_user_id_fkey",
          "tableFrom": "flavour",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flavour_variation_group_id_fkey": {
          "name": "flavour_variation_group_id_fkey",
          "tableFrom": "flavour",
          "tableTo": "variation_group",
          "columnsFrom": [
            "variation_group_id"
          ],
          "columnsTo": [
            "group_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "flavour_base_unit_check": {
          "name": "flavour_base_unit_check",
          "value": "(base_unit)::text = ANY (ARRAY[('g/kg'::character varying)::text, ('%(v/v)'::character varying)::text, ('g/L'::character varying)::text, ('mL/L'::character varying)::text, ('ppm'::character varying)::text])"
        },
        "flavour_status_check": {
          "name": "flavour_status_check",
          "value": "(status)::text = ANY (ARRAY[('draft'::character varying)::text, ('published'::character varying)::text, ('archived'::character varying)::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.flavour_invites": {
      "name": "flavour_invites",
      "schema": "",
      "columns": {
        "invite_id": {
          "name": "invite_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "flavour_id": {
          "name": "flavour_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "invited_email": {
          "name": "invited_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "invited_by_user_id": {
          "name": "invited_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "invite_token": {
          "name": "invite_token",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "gen_random_uuid()"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_flavour_invites_email": {
          "name": "idx_flavour_invites_email",
          "columns": [
            {
              "expression": "invited_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flavour_invites_flavour_id": {
          "name": "idx_flavour_invites_flavour_id",
          "columns": [
            {
              "expression": "flavour_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flavour_invites_status": {
          "name": "idx_flavour_invites_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flavour_invites_token": {
          "name": "idx_flavour_invites_token",
          "columns": [
            {
              "expression": "invite_token",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "flavour_invites_flavour_id_fkey": {
          "name": "flavour_invites_flavour_id_fkey",
          "tableFrom": "flavour_invites",
          "tableTo": "flavour",
          "columnsFrom": [
            "flavour_id"
          ],
          "columnsTo": [
            "flavour_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flavour_invites_invited_by_user_id_fkey": {
          "name": "flavour_invites_invited_by_user_id_fkey",
          "tableFrom": "flavour_invites",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "flavour_invites_flavour_id_invited_email_key": {
          "name": "flavour_invites_flavour_id_invited_email_key",
          "nullsNotDistinct": false,
          "columns": [
            "flavour_id",
            "invited_email"
          ]
        },
        "flavour_invites_invite_token_key": {
          "name": "flavour_invites_invite_token_key",
          "nullsNotDistinct": false,
          "columns": [
            "invite_token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "flavour_invites_status_check": {
          "name": "flavour_invites_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'accepted'::text, 'expired'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.flavour_shares": {
      "name": "flavour_shares",
      "schema": "",
      "columns": {
        "share_id": {
          "name": "share_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "flavour_id": {
          "name": "flavour_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "shared_with_user_id": {
          "name": "shared_with_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "shared_by_user_id": {
          "name": "shared_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_flavour_shares_flavour_id": {
          "name": "idx_flavour_shares_flavour_id",
          "columns": [
            {
              "expression": "flavour_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flavour_shares_shared_by_user_id": {
          "name": "idx_flavour_shares_shared_by_user_id",
          "columns": [
            {
              "expression": "shared_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flavour_shares_shared_with_user_id": {
          "name": "idx_flavour_shares_shared_with_user_id",
          "columns": [
            {
              "expression": "shared_with_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "flavour_shares_flavour_id_fkey": {
          "name": "flavour_shares_flavour_id_fkey",
          "tableFrom": "flavour_shares",
          "tableTo": "flavour",
          "columnsFrom": [
            "flavour_id"
          ],
          "columnsTo": [
            "flavour_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flavour_shares_shared_with_user_id_fkey": {
          "name": "flavour_shares_shared_with_user_id_fkey",
          "tableFrom": "flavour_shares",
          "tableTo": "users",
          "columnsFrom": [
            "shared_with_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flavour_shares_shared_by_user_id_fkey": {
          "name": "flavour_shares_shared_by_user_id_fkey",
          "tableFrom": "flavour_shares",
          "tableTo": "users",
          "columnsFrom": [
            "shared_by_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "flavour_shares_flavour_id_shared_with_user_id_key": {
          "name": "flavour_shares_flavour_id_shared_with_user_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "flavour_id",
            "shared_with_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ingredient_flavour": {
      "name": "ingredient_flavour",
      "schema": "",
      "columns": {
        "parent_flavour_id": {
          "name": "parent_flavour_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ingredient_flavour_id": {
          "name": "ingredient_flavour_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "concentration": {
          "name": "concentration",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ingredient_flavour_ingredient_flavour_id_fkey": {
          "name": "ingredient_flavour_ingredient_flavour_id_fkey",
          "tableFrom": "ingredient_flavour",
          "tableTo": "flavour",
          "columnsFrom": [
            "ingredient_flavour_id"
          ],
          "columnsTo": [
            "flavour_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ingredient_flavour_parent_flavour_id_fkey": {
          "name": "ingredient_flavour_parent_flavour_id_fkey",
          "tableFrom": "ingredient_flavour",
          "tableTo": "flavour",
          "columnsFrom": [
            "parent_flavour_id"
          ],
          "columnsTo": [
            "flavour_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "ingredient_flavour_pkey": {
          "name": "ingredient_flavour_pkey",
          "columns": [
            "parent_flavour_id",
            "ingredient_flavour_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "ingredient_flavour_unit_check": {
          "name": "ingredient_flavour_unit_check",
          "value": "(unit)::text = ANY (ARRAY[('g/kg'::character varying)::text, ('%(v/v)'::character varying)::text, ('g/L'::character varying)::text, ('mL/L'::character varying)::text, ('ppm'::character varying)::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.substance_flavour": {
      "name": "substance_flavour",
      "schema": "",
      "columns": {
        "substance_id": {
          "name": "substance_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "flavour_id": {
          "name": "flavour_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "concentration": {
          "name": "concentration",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "supplier": {
          "name": "supplier",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "dilution": {
          "name": "dilution",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "price_per_kg": {
          "name": "price_per_kg",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "substance_flavour_flavour_id_fkey": {
          "name": "substance_flavour_flavour_id_fkey",
          "tableFrom": "substance_flavour",
          "tableTo": "flavour",
          "columnsFrom": [
            "flavour_id"
          ],
          "columnsTo": [
            "flavour_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "substance_flavour_substance_id_fkey": {
          "name": "substance_flavour_substance_id_fkey",
          "tableFrom": "substance_flavour",
          "tableTo": "substance",
          "columnsFrom": [
            "substance_id"
          ],
          "columnsTo": [
            "substance_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "substance_flavour_pkey": {
          "name": "substance_flavour_pkey",
          "columns": [
            "substance_id",
            "flavour_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "substance_flavour_unit_check": {
          "name": "substance_flavour_unit_check",
          "value": "(unit)::text = ANY (ARRAY[('g/kg'::character varying)::text, ('%(v/v)'::character varying)::text, ('g/L'::character varying)::text, ('mL/L'::character varying)::text, ('ppm'::character varying)::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.variation_group": {
      "name": "variation_group",
      "schema": "",
      "columns": {
        "group_id": {
          "name": "group_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_variation_group_user_id": {
          "name": "idx_variation_group_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "variation_group_user_id_fkey": {
          "name": "variation_group_user_id_fkey",
          "tableFrom": "variation_group",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_badge": {
      "name": "user_badge",
      "schema": "",
      "columns": {
        "badge_id": {
          "name": "badge_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "badge_key": {
          "name": "badge_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "earned_at": {
          "name": "earned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_badge_user": {
          "name": "idx_user_badge_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_badge_user_id_badge_key_key": {
          "name": "user_badge_user_id_badge_key_key",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "badge_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_profile": {
      "name": "user_profile",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_type": {
          "name": "profile_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "organization": {
          "name": "organization",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "job_title": {
          "name": "job_title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "years_of_experience": {
          "name": "years_of_experience",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "specializations": {
          "name": "specializations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "certifications": {
          "name": "certifications",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "field_of_study": {
          "name": "field_of_study",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "professional_memberships": {
          "name": "professional_memberships",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_profile_public": {
          "name": "is_profile_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "open_to_opportunities": {
          "name": "open_to_opportunities",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "onboarding_status": {
          "name": "onboarding_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'not_started'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_profile_user_id_users_user_id_fk": {
          "name": "user_profile_user_id_users_user_id_fk",
          "tableFrom": "user_profile",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_social_link": {
      "name": "user_social_link",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_social_link_user": {
          "name": "idx_social_link_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_social_link_user_id_users_user_id_fk": {
          "name": "user_social_link_user_id_users_user_id_fk",
          "tableFrom": "user_social_link",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_key": {
          "name": "users_email_key",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.category": {
      "name": "category",
      "schema": "",
      "columns": {
        "category_id": {
          "name": "category_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_category_id": {
          "name": "parent_category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "'2026-02-03T17:02:44.758Z'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "category_parent_category_id_fkey": {
          "name": "category_parent_category_id_fkey",
          "tableFrom": "category",
          "tableTo": "category",
          "columnsFrom": [
            "parent_category_id"
          ],
          "columnsTo": [
            "category_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.newsletter_subscribers": {
      "name": "newsletter_subscribers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "subscribed_at": {
          "name": "subscribed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "unsubscribed_at": {
          "name": "unsubscribed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "confirmation_token": {
          "name": "confirmation_token",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "gen_random_uuid()"
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "locale": {
          "name": "locale",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "default": "'fr'"
        }
      },
      "indexes": {
        "idx_newsletter_email": {
          "name": "idx_newsletter_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_newsletter_token": {
          "name": "idx_newsletter_token",
          "columns": [
            {
              "expression": "confirmation_token",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "newsletter_subscribers_email_key": {
          "name": "newsletter_subscribers_email_key",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.functional_group": {
      "name": "functional_group",
      "schema": "",
      "columns": {
        "functional_group_id": {
          "name": "functional_group_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "smarts_pattern": {
          "name": "smarts_pattern",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "functional_group_name_key": {
          "name": "functional_group_name_key",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.substance": {
      "name": "substance",
      "schema": "",
      "columns": {
        "fema_number": {
          "name": "fema_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "common_name": {
          "name": "common_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "synthetic": {
          "name": "synthetic",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "molecular_weight": {
          "name": "molecular_weight",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "exact_mass": {
          "name": "exact_mass",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "smile": {
          "name": "smile",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "iupac_name": {
          "name": "iupac_name",
          "type": "varchar(3000)",
          "primaryKey": false,
          "notNull": false
        },
        "unknown_natural": {
          "name": "unknown_natural",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "olfactory_taste_notes": {
          "name": "olfactory_taste_notes",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "functional_groups": {
          "name": "functional_groups",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "inchi": {
          "name": "inchi",
          "type": "varchar(3000)",
          "primaryKey": false,
          "notNull": false
        },
        "xlogp": {
          "name": "xlogp",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "is_natural": {
          "name": "is_natural",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "flavor_profile": {
          "name": "flavor_profile",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "fema_flavor_profile": {
          "name": "fema_flavor_profile",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "pubchem_id": {
          "name": "pubchem_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cas_id": {
          "name": "cas_id",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "substance_id": {
          "name": "substance_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "taste": {
          "name": "taste",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "solubility": {
          "name": "solubility",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "food_additive_classes": {
          "name": "food_additive_classes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "alternative_names": {
          "name": "alternative_names",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "molecular_formula": {
          "name": "molecular_formula",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "melting_point_c": {
          "name": "melting_point_c",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "boiling_point_c": {
          "name": "boiling_point_c",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "ec_number": {
          "name": "ec_number",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "pubchem_cid": {
          "name": "pubchem_cid",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "pubchem_sid": {
          "name": "pubchem_sid",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "odor": {
          "name": "odor",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "common_applications": {
          "name": "common_applications",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "fl_number": {
          "name": "fl_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "coe_number": {
          "name": "coe_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "jecfa_number": {
          "name": "jecfa_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "eu_policy_code": {
          "name": "eu_policy_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_substance_cas_id": {
          "name": "idx_substance_cas_id",
          "columns": [
            {
              "expression": "cas_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_coe_number": {
          "name": "idx_substance_coe_number",
          "columns": [
            {
              "expression": "coe_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "where": "(coe_number IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_coe_unique": {
          "name": "idx_substance_coe_unique",
          "columns": [
            {
              "expression": "coe_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "where": "((coe_number IS NOT NULL) AND ((coe_number)::text <> ''::text))",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_common_name": {
          "name": "idx_substance_common_name",
          "columns": [
            {
              "expression": "common_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_eu_policy_code": {
          "name": "idx_substance_eu_policy_code",
          "columns": [
            {
              "expression": "eu_policy_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "where": "(eu_policy_code IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_fema_number": {
          "name": "idx_substance_fema_number",
          "columns": [
            {
              "expression": "fema_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_fl_number": {
          "name": "idx_substance_fl_number",
          "columns": [
            {
              "expression": "fl_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "where": "(fl_number IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_fl_unique": {
          "name": "idx_substance_fl_unique",
          "columns": [
            {
              "expression": "fl_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": true,
          "where": "((fl_number IS NOT NULL) AND ((fl_number)::text <> ''::text))",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_jecfa_number": {
          "name": "idx_substance_jecfa_number",
          "columns": [
            {
              "expression": "jecfa_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "where": "(jecfa_number IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_jecfa_unique": {
          "name": "idx_substance_jecfa_unique",
          "columns": [
            {
              "expression": "jecfa_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": true,
          "where": "(jecfa_number IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_substance_name_trgm": {
          "name": "idx_substance_name_trgm",
          "columns": [
            {
              "expression": "common_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "gin_trgm_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.substance_functional_group": {
      "name": "substance_functional_group",
      "schema": "",
      "columns": {
        "substance_id": {
          "name": "substance_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "functional_group_id": {
          "name": "functional_group_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_sfg_group": {
          "name": "idx_sfg_group",
          "columns": [
            {
              "expression": "functional_group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sfg_substance": {
          "name": "idx_sfg_substance",
          "columns": [
            {
              "expression": "substance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "substance_functional_group_substance_id_fkey": {
          "name": "substance_functional_group_substance_id_fkey",
          "tableFrom": "substance_functional_group",
          "tableTo": "substance",
          "columnsFrom": [
            "substance_id"
          ],
          "columnsTo": [
            "substance_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "substance_functional_group_functional_group_id_fkey": {
          "name": "substance_functional_group_functional_group_id_fkey",
          "tableFrom": "substance_functional_group",
          "tableTo": "functional_group",
          "columnsFrom": [
            "functional_group_id"
          ],
          "columnsTo": [
            "functional_group_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "substance_functional_group_pkey": {
          "name": "substance_functional_group_pkey",
          "columns": [
            "substance_id",
            "functional_group_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workspace": {
      "name": "workspace",
      "schema": "",
      "columns": {
        "workspace_id": {
          "name": "workspace_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workspace_created_by_fkey": {
          "name": "workspace_created_by_fkey",
          "tableFrom": "workspace",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workspace_document": {
      "name": "workspace_document",
      "schema": "",
      "columns": {
        "document_id": {
          "name": "document_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_workspace_document_type": {
          "name": "idx_workspace_document_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workspace_document_workspace_id": {
          "name": "idx_workspace_document_workspace_id",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workspace_document_workspace_id_fkey": {
          "name": "workspace_document_workspace_id_fkey",
          "tableFrom": "workspace_document",
          "tableTo": "workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "workspace_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_document_created_by_fkey": {
          "name": "workspace_document_created_by_fkey",
          "tableFrom": "workspace_document",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "workspace_document_type_check": {
          "name": "workspace_document_type_check",
          "value": "type = ANY (ARRAY['image'::text, 'csv'::text, 'markdown'::text, 'pdf'::text, 'file'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.workspace_flavour": {
      "name": "workspace_flavour",
      "schema": "",
      "columns": {
        "workspace_id": {
          "name": "workspace_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "flavour_id": {
          "name": "flavour_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "added_by": {
          "name": "added_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_workspace_flavour_flavour_id": {
          "name": "idx_workspace_flavour_flavour_id",
          "columns": [
            {
              "expression": "flavour_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workspace_flavour_workspace_id": {
          "name": "idx_workspace_flavour_workspace_id",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workspace_flavour_workspace_id_fkey": {
          "name": "workspace_flavour_workspace_id_fkey",
          "tableFrom": "workspace_flavour",
          "tableTo": "workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "workspace_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_flavour_flavour_id_fkey": {
          "name": "workspace_flavour_flavour_id_fkey",
          "tableFrom": "workspace_flavour",
          "tableTo": "flavour",
          "columnsFrom": [
            "flavour_id"
          ],
          "columnsTo": [
            "flavour_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_flavour_added_by_fkey": {
          "name": "workspace_flavour_added_by_fkey",
          "tableFrom": "workspace_flavour",
          "tableTo": "users",
          "columnsFrom": [
            "added_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "workspace_flavour_pkey": {
          "name": "workspace_flavour_pkey",
          "columns": [
            "workspace_id",
            "flavour_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workspace_invite": {
      "name": "workspace_invite",
      "schema": "",
      "columns": {
        "invite_id": {
          "name": "invite_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "invited_email": {
          "name": "invited_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "invited_by_user_id": {
          "name": "invited_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "invite_token": {
          "name": "invite_token",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "gen_random_uuid()"
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_workspace_invite_email": {
          "name": "idx_workspace_invite_email",
          "columns": [
            {
              "expression": "invited_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workspace_invite_status": {
          "name": "idx_workspace_invite_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workspace_invite_token": {
          "name": "idx_workspace_invite_token",
          "columns": [
            {
              "expression": "invite_token",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workspace_invite_workspace_id": {
          "name": "idx_workspace_invite_workspace_id",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workspace_invite_workspace_id_fkey": {
          "name": "workspace_invite_workspace_id_fkey",
          "tableFrom": "workspace_invite",
          "tableTo": "workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "workspace_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_invite_invited_by_user_id_fkey": {
          "name": "workspace_invite_invited_by_user_id_fkey",
          "tableFrom": "workspace_invite",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_invite_workspace_id_invited_email_key": {
          "name": "workspace_invite_workspace_id_invited_email_key",
          "nullsNotDistinct": false,
          "columns": [
            "workspace_id",
            "invited_email"
          ]
        },
        "workspace_invite_invite_token_key": {
          "name": "workspace_invite_invite_token_key",
          "nullsNotDistinct": false,
          "columns": [
            "invite_token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "workspace_invite_role_check": {
          "name": "workspace_invite_role_check",
          "value": "role = ANY (ARRAY['editor'::text, 'viewer'::text])"
        },
        "workspace_invite_status_check": {
          "name": "workspace_invite_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'accepted'::text, 'expired'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.workspace_member": {
      "name": "workspace_member",
      "schema": "",
      "columns": {
        "member_id": {
          "name": "member_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_workspace_member_user_id": {
          "name": "idx_workspace_member_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workspace_member_workspace_id": {
          "name": "idx_workspace_member_workspace_id",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workspace_member_workspace_id_fkey": {
          "name": "workspace_member_workspace_id_fkey",
          "tableFrom": "workspace_member",
          "tableTo": "workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "workspace_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_member_user_id_fkey": {
          "name": "workspace_member_user_id_fkey",
          "tableFrom": "workspace_member",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_member_workspace_id_user_id_key": {
          "name": "workspace_member_workspace_id_user_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "workspace_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "workspace_member_role_check": {
          "name": "workspace_member_role_check",
          "value": "role = ANY (ARRAY['owner'::text, 'editor'::text, 'viewer'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.learning_quiz_attempt": {
      "name": "learning_quiz_attempt",
      "schema": "",
      "columns": {
        "attempt_id": {
          "name": "attempt_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "substance_id": {
          "name": "substance_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "guessed_name": {
          "name": "guessed_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "observations": {
          "name": "observations",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_learning_quiz_user": {
          "name": "idx_learning_quiz_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "learning_quiz_attempt_user_id_fkey": {
          "name": "learning_quiz_attempt_user_id_fkey",
          "tableFrom": "learning_quiz_attempt",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "learning_quiz_attempt_substance_id_fkey": {
          "name": "learning_quiz_attempt_substance_id_fkey",
          "tableFrom": "learning_quiz_attempt",
          "tableTo": "substance",
          "columnsFrom": [
            "substance_id"
          ],
          "columnsTo": [
            "substance_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "learning_quiz_attempt_result_check": {
          "name": "learning_quiz_attempt_result_check",
          "value": "result = ANY (ARRAY['correct'::text, 'incorrect'::text, 'partial'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.learning_review": {
      "name": "learning_review",
      "schema": "",
      "columns": {
        "review_id": {
          "name": "review_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "substance_id": {
          "name": "substance_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_result": {
          "name": "review_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_after": {
          "name": "confidence_after",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_learning_review_scheduled": {
          "name": "idx_learning_review_scheduled",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "where": "(completed_at IS NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_review_user": {
          "name": "idx_learning_review_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "learning_review_user_id_fkey": {
          "name": "learning_review_user_id_fkey",
          "tableFrom": "learning_review",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "learning_review_substance_id_fkey": {
          "name": "learning_review_substance_id_fkey",
          "tableFrom": "learning_review",
          "tableTo": "substance",
          "columnsFrom": [
            "substance_id"
          ],
          "columnsTo": [
            "substance_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "learning_review_result_check": {
          "name": "learning_review_result_check",
          "value": "(review_result IS NULL) OR (review_result = ANY (ARRAY['correct'::text, 'incorrect'::text, 'partial'::text]))"
        },
        "learning_review_confidence_check": {
          "name": "learning_review_confidence_check",
          "value": "(confidence_after IS NULL) OR ((confidence_after >= 1) AND (confidence_after <= 5))"
        }
      },
      "isRLSEnabled": false
    },
    "public.learning_session": {
      "name": "learning_session",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reflection_notes": {
          "name": "reflection_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_learning_session_user": {
          "name": "idx_learning_session_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "learning_session_user_id_fkey": {
          "name": "learning_session_user_id_fkey",
          "tableFrom": "learning_session",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.learning_session_substance": {
      "name": "learning_session_substance",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "substance_id": {
          "name": "substance_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "session_code": {
          "name": "session_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "learning_session_substance_session_id_fkey": {
          "name": "learning_session_substance_session_id_fkey",
          "tableFrom": "learning_session_substance",
          "tableTo": "learning_session",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "learning_session_substance_substance_id_fkey": {
          "name": "learning_session_substance_substance_id_fkey",
          "tableFrom": "learning_session_substance",
          "tableTo": "substance",
          "columnsFrom": [
            "substance_id"
          ],
          "columnsTo": [
            "substance_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "learning_session_substance_pkey": {
          "name": "learning_session_substance_pkey",
          "columns": [
            "session_id",
            "substance_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.learning_streak": {
      "name": "learning_streak",
      "schema": "",
      "columns": {
        "streak_id": {
          "name": "streak_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_streak": {
          "name": "current_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "longest_streak": {
          "name": "longest_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_study_date": {
          "name": "last_study_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "streak_freezes_available": {
          "name": "streak_freezes_available",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "learning_streak_user_id_fkey": {
          "name": "learning_streak_user_id_fkey",
          "tableFrom": "learning_streak",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "learning_streak_user_id_key": {
          "name": "learning_streak_user_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.substance_learning_progress": {
      "name": "substance_learning_progress",
      "schema": "",
      "columns": {
        "progress_id": {
          "name": "progress_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "substance_id": {
          "name": "substance_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "has_smelled": {
          "name": "has_smelled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "smelled_at": {
          "name": "smelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "has_tasted": {
          "name": "has_tasted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "tasted_at": {
          "name": "tasted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_started'"
        },
        "personal_notes": {
          "name": "personal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "personal_descriptors": {
          "name": "personal_descriptors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "associations": {
          "name": "associations",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sample_photo_url": {
          "name": "sample_photo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "concentration_notes": {
          "name": "concentration_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "mastered_at": {
          "name": "mastered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_learning_progress_status": {
          "name": "idx_learning_progress_status",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_progress_user": {
          "name": "idx_learning_progress_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "substance_learning_progress_user_id_fkey": {
          "name": "substance_learning_progress_user_id_fkey",
          "tableFrom": "substance_learning_progress",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "substance_learning_progress_substance_id_fkey": {
          "name": "substance_learning_progress_substance_id_fkey",
          "tableFrom": "substance_learning_progress",
          "tableTo": "substance",
          "columnsFrom": [
            "substance_id"
          ],
          "columnsTo": [
            "substance_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "substance_learning_progress_user_id_substance_id_key": {
          "name": "substance_learning_progress_user_id_substance_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "substance_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "substance_learning_progress_status_check": {
          "name": "substance_learning_progress_status_check",
          "value": "status = ANY (ARRAY['not_started'::text, 'learning'::text, 'confident'::text, 'mastered'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.user_learning_queue": {
      "name": "user_learning_queue",
      "schema": "",
      "columns": {
        "queue_id": {
          "name": "queue_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "substance_id": {
          "name": "substance_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "target_date": {
          "name": "target_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_learning_queue_priority": {
          "name": "idx_learning_queue_priority",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            },
            {
              "expression": "priority",
              "isExpression": false,
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_queue_user": {
          "name": "idx_learning_queue_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_learning_queue_user_id_fkey": {
          "name": "user_learning_queue_user_id_fkey",
          "tableFrom": "user_learning_queue",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_learning_queue_substance_id_fkey": {
          "name": "user_learning_queue_substance_id_fkey",
          "tableFrom": "user_learning_queue",
          "tableTo": "substance",
          "columnsFrom": [
            "substance_id"
          ],
          "columnsTo": [
            "substance_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_learning_queue_user_id_substance_id_key": {
          "name": "user_learning_queue_user_id_substance_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "substance_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.job_alert_preferences": {
      "name": "job_alert_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "locations": {
          "name": "locations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "employment_types": {
          "name": "employment_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "experience_levels": {
          "name": "experience_levels",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "last_notified_at": {
          "name": "last_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_job_alerts_active": {
          "name": "idx_job_alerts_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops"
            }
          ],
          "isUnique": false,
          "where": "(is_active = true)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_alerts_user_id": {
          "name": "idx_job_alerts_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_alert": {
          "name": "unique_user_alert",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.job_offer_interactions": {
      "name": "job_offer_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "job_offer_id": {
          "name": "job_offer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referrer": {
          "name": "referrer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_job_offer_interactions_job_offer_id": {
          "name": "idx_job_offer_interactions_job_offer_id",
          "columns": [
            {
              "expression": "job_offer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_offer_interactions_user_id": {
          "name": "idx_job_offer_interactions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_offer_interactions_job_offer_id_fkey": {
          "name": "job_offer_interactions_job_offer_id_fkey",
          "tableFrom": "job_offer_interactions",
          "tableTo": "job_offers",
          "columnsFrom": [
            "job_offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_offer_interactions_user_id_fkey": {
          "name": "job_offer_interactions_user_id_fkey",
          "tableFrom": "job_offer_interactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "job_offer_interactions_action_check": {
          "name": "job_offer_interactions_action_check",
          "value": "action = ANY (ARRAY['viewed'::text, 'applied'::text, 'seen_contact'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.job_offers": {
      "name": "job_offers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_company_name": {
          "name": "original_company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "through_recruiter": {
          "name": "through_recruiter",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "source_website": {
          "name": "source_website",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "employment_type": {
          "name": "employment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "salary": {
          "name": "salary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requirements": {
          "name": "requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "experience_level": {
          "name": "experience_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_person": {
          "name": "contact_person",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_job_offers_industry": {
          "name": "idx_job_offers_industry",
          "columns": [
            {
              "expression": "industry",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_offers_posted_at": {
          "name": "idx_job_offers_posted_at",
          "columns": [
            {
              "expression": "posted_at",
              "isExpression": false,
              "asc": false,
              "nulls": "first",
              "opclass": "timestamp_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_offers_status": {
          "name": "idx_job_offers_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "job_offers_employment_type_check": {
          "name": "job_offers_employment_type_check",
          "value": "employment_type = ANY (ARRAY['Full-time'::text, 'Part-time'::text, 'Contract'::text, 'Internship'::text, 'Alternance'::text, 'Freelance'::text, 'CDI'::text, 'CDD'::text, 'Interim'::text])"
        },
        "job_offers_experience_level_check": {
          "name": "job_offers_experience_level_check",
          "value": "experience_level = ANY (ARRAY['0-2'::text, '3-5'::text, '6-10'::text, '10+'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.support_conversation": {
      "name": "support_conversation",
      "schema": "",
      "columns": {
        "conversation_id": {
          "name": "conversation_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "guest_email": {
          "name": "guest_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "guest_session_id": {
          "name": "guest_session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "gen_random_uuid()"
        },
        "subject": {
          "name": "subject",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "has_unread_admin": {
          "name": "has_unread_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_admin_read_at": {
          "name": "last_admin_read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "user_typing_at": {
          "name": "user_typing_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "admin_typing_at": {
          "name": "admin_typing_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_support_conversation_user_id": {
          "name": "idx_support_conversation_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_conversation_guest_email": {
          "name": "idx_support_conversation_guest_email",
          "columns": [
            {
              "expression": "guest_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_conversation_guest_session": {
          "name": "idx_support_conversation_guest_session",
          "columns": [
            {
              "expression": "guest_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_conversation_status": {
          "name": "idx_support_conversation_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_conversation_has_unread": {
          "name": "idx_support_conversation_has_unread",
          "columns": [
            {
              "expression": "has_unread_admin",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "support_conversation_user_id_fkey": {
          "name": "support_conversation_user_id_fkey",
          "tableFrom": "support_conversation",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "support_conversation_status_check": {
          "name": "support_conversation_status_check",
          "value": "(status)::text = ANY (ARRAY['open'::text, 'closed'::text, 'pending'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.support_message": {
      "name": "support_message",
      "schema": "",
      "columns": {
        "message_id": {
          "name": "message_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sender_type": {
          "name": "sender_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "sender_user_id": {
          "name": "sender_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_support_message_conversation_id": {
          "name": "idx_support_message_conversation_id",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_message_created_at": {
          "name": "idx_support_message_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "support_message_conversation_id_fkey": {
          "name": "support_message_conversation_id_fkey",
          "tableFrom": "support_message",
          "tableTo": "support_conversation",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "conversation_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "support_message_sender_user_id_fkey": {
          "name": "support_message_sender_user_id_fkey",
          "tableFrom": "support_message",
          "tableTo": "users",
          "columnsFrom": [
            "sender_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "support_message_sender_type_check": {
          "name": "support_message_sender_type_check",
          "value": "(sender_type)::text = ANY (ARRAY['user'::text, 'guest'::text, 'admin'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.referral": {
      "name": "referral",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "referrer_id": {
          "name": "referrer_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "referral_code": {
          "name": "referral_code",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "referred_user_id": {
          "name": "referred_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "platform": {
          "name": "platform",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_identifier": {
          "name": "recipient_identifier",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "converted_at": {
          "name": "converted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_referral_referrer": {
          "name": "idx_referral_referrer",
          "columns": [
            {
              "expression": "referrer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_referral_code": {
          "name": "idx_referral_code",
          "columns": [
            {
              "expression": "referral_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "referral_referrer_id_users_user_id_fk": {
          "name": "referral_referrer_id_users_user_id_fk",
          "tableFrom": "referral",
          "tableTo": "users",
          "columnsFrom": [
            "referrer_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "referral_referred_user_id_users_user_id_fk": {
          "name": "referral_referred_user_id_users_user_id_fk",
          "tableFrom": "referral",
          "tableTo": "users",
          "columnsFrom": [
            "referred_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "referral_referral_code_unique": {
          "name": "referral_referral_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "referral_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}